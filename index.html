<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Diamond Notes Generator (Demo)</title>
  <link rel="stylesheet" href="style.css" />
  <!-- PDF.js from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸ“˜ Diamond Notes Generator</h1>
      <p class="muted">Enter chapter name OR upload NCERT PDF â†’ choose class, subject & language â†’ Generate Diamond Notes</p>
    </header>

    <main class="card">
      <div class="row">
        <div class="col">
          <label>Class</label>
          <select id="classSelect"></select>
        </div>
        <div class="col">
          <label>Subject</label>
          <select id="subjectSelect"></select>
        </div>
        <div class="col">
          <label>Language</label>
          <select id="langSelect">
            <option value="english">English</option>
            <option value="hindi">Hindi</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col-full">
          <label>Chapter Name (leave empty if uploading PDF)</label>
          <input id="chapterInput" placeholder="e.g., Challenges of Building Democracy" />
        </div>
      </div>

      <div class="row">
        <div class="col-full">
          <label>OR Upload NCERT PDF (single chapter PDF)</label>
          <input id="pdfInput" type="file" accept="application/pdf" />
          <div id="pdfStatus" class="muted small">No file selected</div>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-full">
          <label>API Mode</label>
          <div class="api-modes">
            <label><input type="radio" name="apiMode" value="client" checked /> Use API Key in Browser (temporary)</label>
            <label><input type="radio" name="apiMode" value="proxy" /> Use Proxy / Server (recommended)</label>
          </div>
          <div id="clientKeyBox" class="api-box">
            <input id="apiKeyInput" placeholder="Paste your OpenAI / OpenRouter API key here (kept only in your browser session)" />
            <div class="muted small">Using client key will send requests directly from your browser â€” do NOT share your key publicly.</div>
          </div>
          <div id="proxyBox" class="api-box hidden">
            <input id="proxyUrlInput" placeholder="Enter proxy URL e.g. https://your-proxy.vercel.app/api/generate" />
            <div class="muted small">Proxy will forward requests securely using your server-side key. Safer option.</div>
          </div>
        </div>
      </div>

      <div class="row">
        <button id="generateBtn" class="btn">Generate Notes</button>
        <button id="clearBtn" class="btn ghost">Clear</button>
      </div>

      <div id="loading" class="hidden">Generating... <span class="loader"></span></div>

      <div id="output" class="output hidden"></div>
    </main>

    <footer class="muted small">
      <p>Client-only demo. For production, deploy a backend proxy to keep API keys secret.</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
